# Конструкторы
В прошлом ролике в нашем классе Knight мы создали первое поле hp, которому по умолчанию выставили значение 100. Т.о. мы явно сказали, что любой объект, который может быть создан на основе этого класса будет иметь 100 в качестве значения этого поля. Другими словами, у каждого рыцаря после создания будет 100 хп.

Это звучит логично для ситуации с хп – мы хотим, чтобы у всех рыцарей было одинаковое здоровье на старте. Но что если мы захотим, чтобы кроме показателя здоровья у рыцаря еще было и имя?

И вновь: когда мы говорим «у рыцаря есть что-то», это значит, что нам потребуется новое поле в классе. Т.е. имя есть не у конкретного рыцаря, а у всех рыцарей в принципе, поэтому мы создаем поле в классе. Так очень удобно понимать, что именно вам нужно сделать. Когда слышите слово «есть», то вероятнее всего вам нужно создать новое поле класса.

Пишем `public String name;`

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/3400ffaf-6288-4c60-9e21-783ca26035a0/7.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103134Z&X-Amz-Expires=86400&X-Amz-Signature=ca29f3391e813c4b8d194428356e3216c5df2dc23cc165abd6bf3b7ac1a23244&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%227.png%22&x-id=GetObject)

Здесь String показывает то, что значением этого поля (или признака рыцаря) будет строка, потому что String с английского это «строка». Строка в java это просто набор любых символов, заключенных в двойные кавычки. Мы видели строки в одном из первых уроков, когда выводили на экран строку «hello world». [Быстро показать]

Итак, мы сказали, что теперь у каждого объекта рыцаря есть возможность иметь имя. На данном этапе мы не говорим, какое конкретно, а лишь просто описываем возможность обладания именем для любого рыцаря, которого можно создать из этого класса-чертежа. Давайте проверим, какое имя у рыцарей будет по умолчанию, когда они создаются.

Вернемся в наш класс App, где написан метод main, и происходит выполнение нашей программы. Здесь мы создаем два объекта рыцарей knight1 и knight2, чтобы вывести на экран значения их хп. Давайте вместо хп выведем на экран значения их имен.

Для этого у обоих объектов слово hp после точки заменим на name, что совпадает с названием поля имени в классе. Теперь на экран должно вывестись имя первого рыцаря, а затем имя второго. Все просто.

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/9aa4150a-f49e-4cfe-8467-c4f6945b871b/8.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103209Z&X-Amz-Expires=86400&X-Amz-Signature=ee77b6ce481bae02b297f599012aa2473d3222be9c9ade1ccc67eaf1df0b6154&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%228.png%22&x-id=GetObject)

Запускаем. На консоль выводится `null null`. Что это значит? Как и в предыдущем случае с hp, когда мы не написали явно, что значением этого поля должно быть 100, у нас на экран выводилось всегда 0, потому что в java значением по умолчанию для полей, которые являются целыми числами (int), является 0.

Но в случае со строками мы получаем null null. Мы тоже нигде явно не сказали, какие реальные имена должны быть у рыцарей. Мы просто дали им возможность вообще иметь имена, создав соответствующее поле в классе Knight. Но никакого реального значения в него не записали. Для строк и любых других типов, которые пишутся с большой буквы, а значит являются классами в java, значением по умолчанию всегда будет null. Это специальное слово, которое описывает отсутствие значения. Другими словами - пустота, ничего. Строка в java – это объект, а String – это класс, такой же, как, например, Knight, что мы создали.

То есть прямо сейчас внутри поля name по умолчанию нет ничего. Все рыцари пока все еще безымянные, хоть и имеют возможность обладать именем. Глупо получается.

Давайте это исправим. Перейдем в класс Knight и так же, как и для случая с хп, зададим полю name какое-то значение по умолчанию. После имени поля напишем = , затем двойные кавычки и внутри них напишем, например, Max. Так в java выглядят строки. Просто символы внутри двойных кавычек.

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/7c22dbe2-caa0-4392-8860-d9da9ad07514/9.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103239Z&X-Amz-Expires=86400&X-Amz-Signature=95a52f6837a17ac226edfb0835c12afde6bd5ad521f1e5e1fd740b5ec114b759&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%229.png%22&x-id=GetObject)

Запустим нашу программу с этими изменениями. На консоли появилось Max Max. Давайте разберемся.

У нас есть два рыцаря, для каждого из них мы выводим на экран его имя. В классе мы задали значение по умолчанию: Max. Соответственно, когда мы создаем любой объект рыцаря, то по умолчанию его имя будет Max. Если даже я создам миллион рыцарей, то всех их будут звать одинаково. Но в нашем случае мы создали двух – обоих по умолчанию зовут Max.

Это не очень логично. Два совершенно разных персонажа легко могут иметь одинаковые значения хп на старте, но вот имена нам хотелось бы давать им разные, потому что как раз имя позволило бы нам отличить одного от другого. Было бы замечательно, если бы при создании объекта мы могли сказать, что пусть этого рыцаря будут звать Max, а вот этого, например, Eugene.

Здесь нам поможет конструктор.

Что такое конструктор? Это специальный блок внутри класса, который выполняется в момент, когда создается объект этого класса. Он позволяет привести объект к оптимальному состоянию, прежде чем с ним уже можно работать. Давайте создадим конструктор в нашем классе, а потом обсудим его идею более подробно.

После полей напишем public, затем имя класса, в котором мы находимся - Knight, круглые скобки, а затем фигурные скобки. Вот и все. Это наш первый конструктор. В чем же смысл?

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/43e054d3-d6d8-47e4-baa9-1ca20f96d7f1/10.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103301Z&X-Amz-Expires=86400&X-Amz-Signature=9c279f0ea6c5ffdd41cdf5c93e05381914349f955f06c9e049346189851fd791&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%2210.png%22&x-id=GetObject)

Как уже было сказано, мы хотим создать рыцаря. Мы понимаем, что рыцарь без имени это довольно глупо, и взаимодействовать с ним будет неудобно. Например, если я захочу в своей игре поговорить с другим персонажем, то мне нужно понимать, как его зовут, чтобы понять, с кем именно мне нужно говорить. То есть до определения имени объект рыцаря находится в неоптимальном состоянии – с ним невозможно правильно обращаться в нашей игре.

И именно в конструкторе мы можем описать, как любой объект класса привести к состоянию достаточному для того, чтобы успешно с ним взаимодействовать. Почему именно в конструкторе? Потому что конструктор выполняется каждый раз, когда создается новый объект класса. Давайте продемонстрируем. Внутри этих фигурных скобок я выведу на экран строчку «Создание нового рыцаря…». Теперь запустим нашу программу через метод main.

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/789f21ee-22bb-4320-aece-8ea26a10a67d/11.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103320Z&X-Amz-Expires=86400&X-Amz-Signature=12b4a5e58e0937caf0d97589a24e59a6aa592485729683f9135741b35fe36a98&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%2211.png%22&x-id=GetObject)

Как видите, на консоли сначала появилось два сообщения о создании рыцарей, а уже потом их имена. Создание объектов происходит, когда мы пишем слово new. Когда компьютер видит это слово, то он переходит в класс, который написан прямо за этим словом и выполняет то, что написано внутри фигурных скобок конструктора. А внутри скобок у нас написано «вывести на экран строчку создание нового рыцаря». Затем Java выполняет все необходимые действия по созданию объекту в памяти, но это ее забота, а не наша. Так что довольно несложно. Разумеется, здесь можно писать не одну, а множество команд, сколько необходимо.

Как видите, после этих двух строчек у нас, как и раньше, дважды выводится имя Max. Это потому, что мы все еще нигде не указываем имя для каждого рыцаря в отдельности. Давайте это исправим.

Перейдем в класс Knight. Внутри круглых скобок конструктора напишем String n. А внутри фигурных скобок напишем name = n. Что это значит?

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/0412fba4-841f-4bff-9940-56eeb027b5f5/12.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103345Z&X-Amz-Expires=86400&X-Amz-Signature=b6cd26e204bbe8d747ff7c2f32d3bf6af29b3c1ac9aec43e5775323750fd3801&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%2212.png%22&x-id=GetObject)

Когда внутри круглых скобок конструктора мы пишем String n, то мы говорим, что при создании объекта мы ожидаем, что в конструктор будет передана какая-то фактическая строка. Мы не говорим какая конкретно, а просто описываем возможность передавать любую строку в принципе. То, что написано внутри круглых скобок конструктора называется параметром. Параметров может быть сколь угодно много, и они перечисляются внутри круглых скобок через запятую, и все должны иметь разные имена. Например, этот параметр является строкой - тип String - и называется n. Если я захочу создать второй параметр, который является целым числом (int) и тоже назову его n, то работать не будет, потому что тогда Java не понимает, что есть что. Имена должны различаться. Если меняю на n1, то работает прекрасно. Типы же параметров могут совпадать. Удалим пока второй параметр.

Далее внутри фигурных скобок, то есть внутри блока, который как раз и выполняется при создании объекта класса, мы говорим: взять это n, которое пришло извне при создании рыцаря, и записать это значение в наше поле name. Сейчас станет понятнее.

Перейдем в класс App. Здесь у нас появились 2 ошибки – создание объектов подчеркнуто красным. Это связано с тем, что внутри круглых скобок конструктора мы указали параметр String n.

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/d346f79a-2974-4c7c-a2b2-539fedbdab28/13.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103405Z&X-Amz-Expires=86400&X-Amz-Signature=fae9aec57fcb896bc2cfa572149da7a5c9a5cd2168a37a99ae51abc24ddd7255&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%2213.png%22&x-id=GetObject)

То есть теперь наш конструктор ожидает, что при создании объекта мы будем передавать в круглых скобках какую-то строку – реальное значение. Теперь понятно, зачем нужны круглые скобки при создании объектов: до этого они были пустыми, потому что у нас не было никаких параметров, а теперь мы указали, что обязательно нужно передать строчку. Если не передать, то наши объекты не могут быть правильно созданы, и java сигнализирует об ошибке. Давайте поправим это.

Раз уж мы ждем значение, то передадим его. В первом случае передадим строку «Max», а во втором «Eugene». Ошибки пропали. Теперь запустим нашу программу.

![alt text](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/d0a57ab2-218c-45cf-8656-3810e3f7faf4/14.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221120T103447Z&X-Amz-Expires=86400&X-Amz-Signature=b52750d0e42eb081d3e275173e9c087499a0ca9008482b97accc229c7a8c2a00&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%2214.png%22&x-id=GetObject)

Мы получили на консоли два сообщения о создании объектов, а затем два имени, которые мы этим объектам выдали. Что произошло?

Когда компьютер видит слово new, то вызывает конструктор класса, который написан после него. В данном случае Knight. Конструктор этот ожидает внутри круглых скобок строку. В первом случае мы написали «Max», значит **n** во время выполнения программы заменится на «Max», а затем запишется внутрь поля **name** первого объекта, которое сначала по умолчанию null. Затем при создании при создании второго рыцаря **n** будет заменено уже на «Eugene», и эта строка запишется в поле **name** уже для второго рыцаря. То есть у каждого из рыцарей свое поле и свое значение внутри этого поля, конструктор выполняется дважды, потому что мы создаем двух рыцарей.

Затем мы выводим на экран их имена, которые мы только что им выдали. Получаем ожидаемый результат. Все логично.